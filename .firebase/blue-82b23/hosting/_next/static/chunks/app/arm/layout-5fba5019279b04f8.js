(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6734],{26557:function(a,e,n){Promise.resolve().then(n.bind(n,70376))},70376:function(a,e,n){"use strict";n.r(e),n.d(e,{default:function(){return S}});var r=n(57437),c=n(2265),o=n(54272),t=n(18826),s=n(90144),i=n(69905),l=n(46730),d=n(58237),u=n(88433),h=n(30828),m=n(8792),j=n(47907),p=n(59781),x=n(43206),v=n(29835),b=n(58129),g=n(45009),P=n(15486),k=n(81302);n(78106);var f=n(58121),Z=n(70784),_=n(71709),y=n(44209),A=n(18905),E=n(32047),I=n(62554);function S(){let[a,e,n]=(0,P.F_)(g.I8),[S,C]=c.useState(!0),[D,O]=c.useState(null),w=(0,j.usePathname)(),M=(0,h.I0)(),N=(0,j.useRouter)(),T=(0,h.v9)(a=>a.nav_bar.OPEN),U=()=>{M((0,p.WI)())};c.useEffect(()=>{(0,f.cf)((0,f.JU)((0,f.ad)(),"data","coporate"),a=>{let e=Object.keys(a.data().coporate).map(e=>{let n=a.data().coporate[e];return{cop_id:e,...n}});console.log(e),M((0,I.QU)({DATA:e,loading:!1,DATAObj:a.data().coporate}))})});let F=[{name:"Package Scan",navIcon:(0,r.jsx)(Z.$t0,{}),navPath:"/arm/package_scan",access:["admin","branch","rider"]},{name:"Add Package",navIcon:(0,r.jsx)(_.qS3,{}),navPath:"/arm/normal_package",access:["admin","branch"]}],R=[{name:"Add Package",navIcon:(0,r.jsx)(_.qS3,{}),navPath:"/arm/add_package",access:["admin","branch"]},{name:"Manage Coporate",navIcon:(0,r.jsx)(A.Z,{}),navPath:"/arm/manage_company",access:["admin","branch"]}],B=[{name:"Manage Employee",navIcon:(0,r.jsx)(E.Z,{}),navPath:"/arm/employee_manage",access:["admin"]}];return c.useEffect(()=>{n&&M((0,k.mX)({open:!0,type:"error",msg:"user data loading Error "+n.message})),!e&&a&&(C(!0),(0,f.cf)((0,f.JU)((0,f.ad)(),"user",a.uid),a=>{O(a.data()),M((0,I.M)({...a.data(),id:a.id})),C(!1)}))},[a]),e||a||(0,j.redirect)("/login"),!0!==S&&((null==D?void 0:D.job_role)!=="admin"&&"/arm/employee_manage"===w&&N.push("/arm/package_scan"),((null==D?void 0:D.job_role)!=="branch"||(null==D?void 0:D.job_role)!=="admin")&&("/arm/normal_package"===w||"/arm/add_package"===w||"/arm/manage_company"===w)&&N.push("/arm/package_scan")),(0,r.jsxs)("div",{children:[(0,r.jsx)(x.Z,{color:"primary",onClick:U,children:(0,r.jsx)(y.vHB,{size:24})}),(0,r.jsx)(c.Fragment,{children:(0,r.jsx)(t.ZP,{anchor:"left",open:T,onClose:U,children:(0,r.jsxs)(o.Z,{role:"presentation",onClick:U,onKeyDown:U,width:250,children:[(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(x.Z,{color:"primary",onClick:()=>(0,p.RD)(),children:(0,r.jsx)(Z.FU5,{})})}),(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(v.Z,{sx:{mx:1},variant:"subtitle1",children:"Manage Package"}),F.map((a,e)=>a.access.includes(null==D?void 0:D.job_role)&&(0,r.jsx)(i.ZP,{color:"primary",disablePadding:!0,children:(0,r.jsx)(m.default,{href:a.navPath,children:(0,r.jsxs)(l.Z,{sx:{width:250,backgroundColor:w===a.navPath&&"black",color:w===a.navPath&&"white","&:hover":{backgroundColor:w===a.navPath&&"black"}},children:[(0,r.jsx)(d.Z,{sx:{color:w===a.navPath&&"white"},children:a.navIcon}),(0,r.jsx)(u.Z,{primary:a.name})]})})},a.name)),(0,r.jsx)(b.Z,{}),(null==D?void 0:D.job_role)!=="rider"?(0,r.jsx)(v.Z,{sx:{mx:1},variant:"subtitle1",children:"Corporate"}):(0,r.jsx)(r.Fragment,{}),R.map((a,e)=>a.access.includes(null==D?void 0:D.job_role)&&(0,r.jsx)(i.ZP,{color:"primary",disablePadding:!0,children:(0,r.jsx)(m.default,{href:a.navPath,children:(0,r.jsxs)(l.Z,{sx:{width:250,backgroundColor:w===a.navPath&&"black",color:w===a.navPath&&"white","&:hover":{backgroundColor:w===a.navPath&&"black"}},children:[(0,r.jsx)(d.Z,{sx:{color:w===a.navPath&&"white"},children:a.navIcon}),(0,r.jsx)(u.Z,{primary:a.name})]})})},a.name)),(0,r.jsx)(b.Z,{}),(null==D?void 0:D.job_role)==="admin"?(0,r.jsx)(v.Z,{sx:{mx:1},variant:"subtitle1",children:"Manage ARM Air"}):(0,r.jsx)(r.Fragment,{}),B.map((a,e)=>a.access.includes(null==D?void 0:D.job_role)&&(0,r.jsx)(i.ZP,{color:"primary",disablePadding:!0,children:(0,r.jsx)(m.default,{href:a.navPath,children:(0,r.jsxs)(l.Z,{sx:{width:250,backgroundColor:w===a.navPath&&"black",color:w===a.navPath&&"white","&:hover":{backgroundColor:w===a.navPath&&"black"}},children:[(0,r.jsx)(d.Z,{sx:{color:w===a.navPath&&"white"},children:a.navIcon}),(0,r.jsx)(u.Z,{primary:a.name})]})})},a.name))]}),(0,r.jsx)(s.Z,{children:(0,r.jsx)(i.ZP,{onClick:async()=>{g.I8.signOut(g.I8).then(()=>{M((0,k.mX)({open:!0,type:"success",msg:"Logout success"}))}).catch(a=>{console.log(a)})},disablePadding:!0,children:(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(d.Z,{children:(0,r.jsx)(Z.lE7,{})}),(0,r.jsx)(u.Z,{primary:"Sing out"})]})})})]})})})]})}},45009:function(a,e,n){"use strict";n.d(e,{I8:function(){return i}});var r=n(26142),c=n(92730),o=n(58121),t=n(24905);let s=(0,r.C6)().length?(0,r.Mq)():(0,r.ZF)({apiKey:"AIzaSyB_FHVhK2MykSnDA0rU6-eeCmzm7VtWJnU",authDomain:"blue-82b23.firebaseapp.com",projectId:"blue-82b23",storageBucket:"blue-82b23.appspot.com",messagingSenderId:"308155436293",appId:"1:308155436293:web:72a0d43e8cd7e9cb8d3b6c"}),i=(0,c.v0)(s);(0,o.ad)(s),(0,t.cF)(s)},59781:function(a,e,n){"use strict";n.d(e,{RD:function(){return o},WI:function(){return c}});let r=(0,n(35972).oM)({name:"nav_bar",initialState:{OPEN:!1},reducers:{openNavBar:a=>{a.OPEN=!a.OPEN},closeNav:a=>{a.OPEN=!1}}}),{openNavBar:c,closeNav:o}=r.actions;e.ZP=r.reducer},62554:function(a,e,n){"use strict";n.d(e,{M:function(){return o},QU:function(){return c}});let r=(0,n(35972).oM)({name:"root_data",initialState:{DATA:[],DATAObj:{},loading:!0,USERDATA:null},reducers:{setRootData:(a,e)=>{let{DATA:n,loading:r,DATAObj:c}=e.payload;a.DATA=n,a.loading=r,a.DATAObj=c},setUserData:(a,e)=>{a.USERDATA=e.payload}}}),{setRootData:c,setUserData:o}=r.actions;e.ZP=r.reducer},81302:function(a,e,n){"use strict";n.d(e,{At:function(){return o},mX:function(){return c}});let r=(0,n(35972).oM)({name:"snack_bar",initialState:{OPEN:!1,TYPE:"sucess",MSG:""},reducers:{openScackbar:(a,e)=>{let{open:n,type:r,msg:c}=e.payload;a.OPEN=n,a.TYPE=r,a.MSG=c},closeScackbar:a=>{a.OPEN=!1}}}),{openScackbar:c,closeScackbar:o}=r.actions;e.ZP=r.reducer}},function(a){a.O(0,[4358,124,5505,6051,9212,1472,5698,4583,7397,1024,434,5883,1424,9570,2971,8069,1744],function(){return a(a.s=26557)}),_N_E=a.O()}]);