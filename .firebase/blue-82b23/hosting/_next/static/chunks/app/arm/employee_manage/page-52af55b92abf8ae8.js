(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4911],{49271:function(e,r,a){Promise.resolve().then(a.bind(a,11381)),Promise.resolve().then(a.bind(a,25187))},11381:function(e,r,a){"use strict";a.r(r),a.d(r,{circularProgressClasses:function(){return l.Z},default:function(){return s.Z},getCircularProgressUtilityClass:function(){return l.C}});var s=a(25211),l=a(71739)},78106:function(e,r,a){"use strict";a(58121),a(2265)},25187:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return P}});var s=a(57437),l=a(2265),n=a(47240),t=a(29835),i=a(6285),o=a(77298),d=a(16492),c=a(67147),u=a(40512),m=a(41991),h=a(87957),b=a(82670),x=a(41848),p=a(82794),j=a(98322),f=a(19038),y=a(16608),Z=a(45009),v=a(30828),g=a(81302),_=a(58121),w=a(92730);function E(){let[e,r]=l.useState(!1),a=(0,v.I0)(),n=m.Ry({name:m.Z_().required("Enter Name"),mobile:m.Z_().required("Enter Mobile Number"),email:m.Z_().required("Enter Email"),password:m.Z_().required("Enter Password For User").min(8,"need at least 8 letters"),area:m.Z_().required("Enter Oparating area"),job_role:m.Z_().required("Select user Job Role")}),{register:E,handleSubmit:P,setValue:S,setError:k,reset:C,watch:M,unregister:N,control:A,formState:{errors:I}}=(0,b.cI)({resolver:(0,h.X)(n)}),O=async e=>{try{await (0,w.Xb)(Z.I8,e.email,e.password).then(async r=>{let a=(await (0,w.e5)(Z.I8,e.email,e.password)).user;await (0,w.ck)(a,{displayName:e.name});let s={name:e.name,mobile:e.mobile,email:e.email,area:e.area,job_role:e.job_role};await (0,_.pl)((0,_.JU)((0,_.ad)(),"user",a.uid),s)}),C(),a((0,g.mX)({open:!0,type:"success",msg:"User Added Opening.... new user"}))}catch(e){a((0,g.mX)({open:!0,type:"error",msg:e.message})),console.log(e)}};return(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(i.Z,{variant:"outlined",onClick:()=>{r(!0)},children:"Open form dialog"}),(0,s.jsxs)(d.Z,{maxWidth:"md",open:e,onClose:()=>{r(!1)},children:[(0,s.jsx)(u.Z,{children:"Add Employee"}),(0,s.jsx)(c.Z,{children:(0,s.jsxs)("form",{onSubmit:P(O),children:[(0,s.jsx)(b.Qr,{name:"name",control:A,render:e=>{let{field:r}=e;return(0,s.jsx)(o.Z,{sx:{my:1},...r,value:r.value||"",type:"text",label:"Name",fullWidth:!0,error:!!I.name,helperText:I.name&&I.name.message})}}),(0,s.jsx)(b.Qr,{name:"mobile",control:A,render:e=>{let{field:r}=e;return(0,s.jsx)(o.Z,{sx:{my:1},...r,value:r.value||"",label:"Mobile",type:"text",fullWidth:!0,error:!!I.mobile,helperText:I.mobile&&I.mobile.message})}}),(0,s.jsx)(b.Qr,{name:"email",control:A,render:e=>{let{field:r}=e;return(0,s.jsx)(o.Z,{sx:{my:1},...r,value:r.value||"",type:"email",label:"Email",fullWidth:!0,error:!!I.email,helperText:I.email&&I.email.message})}}),(0,s.jsx)(b.Qr,{name:"password",control:A,render:e=>{let{field:r}=e;return(0,s.jsx)(o.Z,{sx:{my:1},...r,value:r.value||"",type:"password",label:"Password",fullWidth:!0,error:!!I.password,helperText:I.password&&I.password.message})}}),(0,s.jsx)(b.Qr,{name:"area",control:A,render:e=>{let{field:r}=e;return(0,s.jsx)(o.Z,{sx:{my:1},...r,value:r.value||"",type:"text",label:"Managing Area",fullWidth:!0,error:!!I.area,helperText:I.area&&I.area.message})}}),(0,s.jsx)(b.Qr,{name:"job_role",control:A,render:e=>{let{field:r}=e;return(0,s.jsxs)(x.Z,{fullWidth:!0,children:[(0,s.jsx)(p.Z,{children:"Job Role"}),(0,s.jsxs)(j.Z,{error:!!I.job_role,...r,value:r.value||"",label:"Select Rate",children:[(0,s.jsx)(f.Z,{value:"rider",children:(0,s.jsx)(t.Z,{children:"Rider"})}),(0,s.jsx)(f.Z,{value:"branch",children:(0,s.jsx)(t.Z,{children:"Branch"})}),(0,s.jsx)(f.Z,{value:"admin",children:(0,s.jsx)(t.Z,{children:"Admin"})})]}),(0,s.jsx)(y.Z,{sx:{color:"red"},children:I.job_role&&I.job_role.message})]})}}),(0,s.jsx)(i.Z,{sx:{my:1,width:"100%"},type:"submit",variant:"contained",children:"Add User"})]})})]})]})}function P(){let[e,r]=(0,l.useState)([]),[a,i]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{i(!0);let e=await (0,_.PL)((0,_.hJ)((0,_.ad)(),"user")),a=[];e.forEach(e=>a.push({...e.data(),id:e.id})),r(a),i(!1)})()},[]);let o=(0,l.useMemo)(()=>[{accessorKey:"name",header:"Name",size:150},{accessorKey:"email",header:"Email",size:150},{accessorKey:"mobile",header:"Mobile",size:200},{accessorKey:"area",header:"Ariea",size:200},{accessorKey:"job_role",header:"Position",size:200,Cell:e=>{let{renderedCellValue:r,row:a}=e;return(0,s.jsx)(t.Z,{variant:"body1",children:"admin"===r?"Manager":"branch"===r?"Branch":"Rider"})}}],[]),d=(0,n.X0)({columns:o,data:e});return(0,s.jsxs)("div",{children:[(0,s.jsx)(E,{}),(0,s.jsx)(n.P2,{table:d})]})}a(78106)},45009:function(e,r,a){"use strict";a.d(r,{I8:function(){return o}});var s=a(26142),l=a(92730),n=a(58121),t=a(24905);let i=(0,s.C6)().length?(0,s.Mq)():(0,s.ZF)({apiKey:"AIzaSyB_FHVhK2MykSnDA0rU6-eeCmzm7VtWJnU",authDomain:"blue-82b23.firebaseapp.com",projectId:"blue-82b23",storageBucket:"blue-82b23.appspot.com",messagingSenderId:"308155436293",appId:"1:308155436293:web:72a0d43e8cd7e9cb8d3b6c"}),o=(0,l.v0)(i);(0,n.ad)(i),(0,t.cF)(i)},81302:function(e,r,a){"use strict";a.d(r,{At:function(){return n},mX:function(){return l}});let s=(0,a(35972).oM)({name:"snack_bar",initialState:{OPEN:!1,TYPE:"sucess",MSG:""},reducers:{openScackbar:(e,r)=>{let{open:a,type:s,msg:l}=r.payload;e.OPEN=a,e.TYPE=s,e.MSG=l},closeScackbar:e=>{e.OPEN=!1}}}),{openScackbar:l,closeScackbar:n}=s.actions;r.ZP=s.reducer}},function(e){e.O(0,[4358,124,8712,1472,5698,4583,7397,9271,1024,2940,6859,412,5883,3584,9677,2971,8069,1744],function(){return e(e.s=49271)}),_N_E=e.O()}]);