(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3216],{50279:function(e,r,a){Promise.resolve().then(a.bind(a,91143))},91143:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return k}});var t=a(57437),l=a(2265),s=a(41991),n=a(87957),i=a(82670),o=a(29835),d=a(41848),c=a(952),u=a(10571),m=a(87640),x=a(68148),p=a(10470),_=a(77298),g=a(18645),h=a(34111),b=a(6285),j=a(52380),f=a(99354),Z=a(30828),y=a(81302),v=a(58121);function k(){let[e,r]=(0,l.useState)(""),[a,k]=(0,l.useState)("dom"),[C,w]=l.useState(""),N=(0,Z.I0)(),E=(0,l.useRef)(!0),S=s.Ry({s_name:s.Z_().required("Enter Sender name"),s_address:s.Z_().required("Enter Sender Address"),s_mobile:s.Z_().required("Enter Sender Mobile Number"),r_name:s.Z_().required("Enter Reciver name"),r_address:s.Z_().required("Enter Reciver Address"),r_mobile:s.Z_().required("Enter Reciver Mobile Number"),rate:s.Rx().positive().required("Enter Delivery Rate").moreThan(0),package_price:s.Rx().required("Enter COD Package Price").moreThan(-1).default(0),weight:s.Rx().positive().required("Enter Package Weight"),rate_cod:s.Xg().default(!1),country:"dom"===a?s.Z_():s.Z_().required("Enter Country"),city:"dom"===a?s.Z_():s.Z_().required("Enter City"),tracking_id:"dom"===a?s.Z_():s.Z_().required("Enter Package Tracking Number"),zip_code:"dom"===a?s.Z_():s.Z_().required("Enter Zip Code")}),{register:P,handleSubmit:T,setValue:q,setError:W,reset:Q,watch:R,unregister:D,control:I,formState:{errors:V}}=(0,i.cI)({resolver:(0,n.X)(S)}),z=async e=>{if(C){let r={date:(0,v.Bt)(),sender:{name:e.s_name,address:e.s_address,mobile:e.s_mobile},reciver:{name:e.r_name,address:e.r_address,mobile:e.r_mobile,country:e.country,city:e.city,zip_code:e.zip_code},tracking_id:e.tracking_id,delivery_type:a,rate:e.rate,rate_cod:e.rate_cod,package_price:e.package_price,weight:e.weight,cod:!0===e.rate_cod||e.package_price>0,state:"pending"},t={date:(0,v.Bt)(),sender:{name:e.s_name,address:e.s_address,mobile:e.s_mobile},reciver:{name:e.r_name,address:e.r_address,mobile:e.r_mobile},delivery_type:a,rate:e.rate,rate_cod:e.rate_cod,package_price:e.package_price,weight:e.weight,cod:!0===e.rate_cod||e.package_price>0,state:"pending"};try{let e=(0,v.JU)((0,v.ad)(),"package","".concat(C.toString()));(await (0,v.QT)(e)).exists()?N((0,y.mX)({open:!0,type:"error",msg:"Package ID Alredy Exists"})):(await (0,v.pl)((0,v.JU)((0,v.ad)(),"package","".concat(C)),"dom"===a?t:r).then(()=>{"int"===a?Q({s_name:"",s_address:"",s_mobile:"",r_name:"",r_address:"",r_mobile:"",rate:"",package_price:"",weight:"",rate_cod:!1,country:"",city:"",tracking_id:"",zip_code:""}):Q({s_name:"",s_address:"",s_mobile:"",r_name:"",r_address:"",r_mobile:"",rate:"",package_price:"",weight:"",rate_cod:!1}),Q(),w("")}),N((0,y.mX)({open:!0,type:"success",msg:"Package Added"})))}catch(e){(0,y.mX)({open:!0,type:"error",msg:e.message})}}else N((0,y.mX)({open:!0,type:"error",msg:"Enter Package ID"}))};return(0,l.useEffect)(()=>{"dom"!==a||E.current||(console.log(E.current),D(["country","city","zip_code","tracking_id"]))},[D,a,E.current]),(0,t.jsx)("div",{children:(0,t.jsxs)("form",{onSubmit:T(z),children:[(0,t.jsx)(f.Z,{getPackageID:e=>{w(e)}}),(0,t.jsxs)(o.Z,{variant:"h6",children:["Package ID: ",C||"---"]}),(0,t.jsx)("div",{className:"flex justify-center text-center",children:(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(c.Z,{id:"demo-row-radio-buttons-group-label",children:"Delivery Type"}),(0,t.jsxs)(u.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:a,onChange:e=>{k(e.target.value)},children:[(0,t.jsx)(m.Z,{value:"dom",control:(0,t.jsx)(x.Z,{}),label:"Domestic",defaultChecked:!0}),(0,t.jsx)(m.Z,{value:"int",control:(0,t.jsx)(x.Z,{}),label:"International"})]})]})}),(0,t.jsxs)("div",{className:"flex md:flex-row flex-col justify-around p-2 gap-4",children:[(0,t.jsxs)(p.Z,{className:"md:w-input-max ",variant:"elevation",elevation:2,children:[(0,t.jsx)(o.Z,{align:"center",color:"GrayText",variant:"h6",fontWeight:600,m:1,children:"Sender Details"}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 m-2",children:[(0,t.jsx)(i.Qr,{name:"s_name",control:I,render:e=>{let{field:r}=e;return(0,t.jsx)(_.Z,{...r,label:"Name",fullWidth:!0,type:"text",defaultValue:"",error:!!V.s_name,helperText:V.s_name&&V.s_name.message})}}),(0,t.jsx)(i.Qr,{name:"s_address",control:I,render:e=>{let{field:r}=e;return(0,t.jsx)(_.Z,{...r,defaultValue:"",label:"Address",type:"text",fullWidth:!0,error:!!V.s_address,helperText:V.s_address&&V.s_address.message})}}),(0,t.jsx)(i.Qr,{name:"s_mobile",control:I,render:e=>{let{field:r}=e;return(0,t.jsx)(_.Z,{...r,defaultValue:"",label:"Mobile",type:"number",fullWidth:!0,error:!!V.s_mobile,helperText:V.s_mobile&&V.s_mobile.message})}})]})]}),(0,t.jsxs)(p.Z,{className:"md:w-input-max p-2",variant:"elevation",elevation:2,children:[(0,t.jsx)(o.Z,{align:"center",color:"GrayText",variant:"h6",fontWeight:600,m:1,children:"Reciver Details"}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 ",children:[(0,t.jsx)(i.Qr,{name:"r_name",control:I,render:e=>{let{field:r}=e;return(0,t.jsx)(_.Z,{...r,defaultValue:"",label:"Name",type:"text",fullWidth:!0,error:!!V.r_name,helperText:V.r_name&&V.r_name.message})}}),(0,t.jsx)(i.Qr,{name:"r_address",control:I,render:e=>{let{field:r}=e;return(0,t.jsx)(_.Z,{...r,defaultValue:"",label:"Address",type:"text",fullWidth:!0,error:!!V.r_address,helperText:V.r_address&&V.r_address.message})}}),(0,t.jsx)(i.Qr,{name:"r_mobile",control:I,render:e=>{let{field:r}=e;return(0,t.jsx)(_.Z,{...r,defaultValue:"",label:"Mobile",fullWidth:!0,type:"number",error:!!V.r_mobile,helperText:V.r_mobile&&V.r_mobile.message})}}),(0,t.jsx)("div",{className:"flex flex-col gap-4",children:"int"===a?(0,t.jsx)("div",{ref:E,children:(0,t.jsx)(j.Z,{control:I,errors:V})}):(0,t.jsx)(t.Fragment,{})})]})]})]}),(0,t.jsxs)(p.Z,{className:"p-2 m-4 ",variant:"elevation",elevation:2,children:[(0,t.jsx)(o.Z,{align:"center",color:"GrayText",variant:"h6",fontWeight:600,m:1,children:"Package Details"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 md:grid-rows-2 gap-4 grid-rows-4  ",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Qr,{name:"rate",control:I,render:e=>{let{field:r}=e;return(0,t.jsx)(_.Z,{...r,type:"number",defaultValue:"",label:"Delivery Rate",InputLabelProps:{shrink:!0},fullWidth:!0,error:!!V.rate,helperText:V.rate&&V.rate.message})}}),(0,t.jsx)(i.Qr,{name:"rate_cod",control:I,render:e=>{let{field:r}=e;return(0,t.jsx)(m.Z,{control:(0,t.jsx)(g.Z,{...r}),label:"COD"})}})]}),(0,t.jsx)(i.Qr,{name:"package_price",control:I,render:e=>{let{field:r}=e;return(0,t.jsx)(_.Z,{...r,type:"number",defaultValue:0,label:"COD Package Price",fullWidth:!0,InputProps:{startAdornment:(0,t.jsx)(h.Z,{position:"start",children:"Rs"})},error:!!V.package_price,helperText:V.package_price&&V.package_price.message})}}),(0,t.jsx)(i.Qr,{name:"weight",control:I,render:e=>{let{field:r}=e;return(0,t.jsx)(_.Z,{...r,type:"number",defaultValue:"",label:"Package Weight",fullWidth:!0,InputProps:{endAdornment:(0,t.jsx)(h.Z,{position:"start",children:"kg"})},error:!!V.rate,helperText:V.rate&&V.rate.message})}})]})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(b.Z,{className:"md:w-input-max w-full",variant:"contained",type:"submit",children:"Submit"})})]})})}},52380:function(e,r,a){"use strict";a.d(r,{Z:function(){return n}});var t=a(57437),l=a(77298);a(2265);var s=a(82670);function n(e){let{control:r,errors:a}=e;return(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(s.Qr,{name:"tracking_id",control:r,render:e=>{let{field:r}=e;return(0,t.jsx)(l.Z,{...r,type:"text",defaultValue:"",label:"Tracking Number",fullWidth:!0,error:!!a.tracking_id,helperText:a.tracking_id&&a.tracking_id.message})}}),(0,t.jsx)(s.Qr,{name:"zip_code",control:r,render:e=>{let{field:r}=e;return(0,t.jsx)(l.Z,{...r,type:"number",defaultValue:"",label:"Zip Code",fullWidth:!0,error:!!a.zip_code,helperText:a.zip_code&&a.zip_code.message})}}),(0,t.jsx)(s.Qr,{name:"country",control:r,render:e=>{let{field:r}=e;return(0,t.jsx)(l.Z,{...r,type:"text",defaultValue:"",label:"Country",fullWidth:!0,error:!!a.country,helperText:a.country&&a.country.message})}}),(0,t.jsx)(s.Qr,{name:"city",control:r,render:e=>{let{field:r}=e;return(0,t.jsx)(l.Z,{...r,type:"text",defaultValue:"",label:"City",fullWidth:!0,error:!!a.city,helperText:a.city&&a.city.message})}})]})}},99354:function(e,r,a){"use strict";a.d(r,{Z:function(){return k}});var t=a(57437),l=a(2265),s=a(6285),n=a(16492),i=a(43206),o=a(79309),d=a(79221),c=a(40512),u=a(67147),m=a(77298),x=a(14359);let p="html5qr-code-full-region",_=e=>{let r={};return e.fps&&(r.fps=e.fps),e.qrbox&&(r.qrbox=e.qrbox),e.aspectRatio&&(r.aspectRatio=e.aspectRatio),void 0!==e.disableFlip&&(r.disableFlip=e.disableFlip),r};var g=e=>((0,l.useEffect)(()=>{let r=_(e),a=!0===e.verbose;if(!e.qrCodeSuccessCallback)throw"qrCodeSuccessCallback is required callback.";let t=new x.wF(p,r,a);return t.render(e.qrCodeSuccessCallback,e.qrCodeErrorCallback),()=>{t.clear().catch(e=>{console.error("Failed to clear html5QrcodeScanner. ",e)})}},[]),(0,t.jsx)("div",{id:p})),h=a(68148),b=a(10571),j=a(87640),f=a(41848),Z=a(952),y=a(61975);let v=l.forwardRef(function(e,r){return(0,t.jsx)(d.Z,{direction:"up",ref:r,...e})});function k(e){let{getPackageID:r}=e,[a,d]=l.useState(!1),[x,p]=l.useState("camera"),[_,k]=l.useState(""),w=()=>{d(!1)},N={color:"primary",sx:C,icon:(0,t.jsx)(y.Ijt,{size:30}),label:"Add"};return(0,t.jsxs)(l.Fragment,{children:[(0,t.jsxs)(s.Z,{variant:"contained","aria-label":N.label,color:"primary",onClick:()=>{d(!0)},children:["Open Scan ",(0,t.jsx)(y.Ijt,{sx:{m:1},size:30})]}),(0,t.jsxs)(n.Z,{open:a,onClose:w,TransitionComponent:v,children:[(0,t.jsx)(c.Z,{children:(0,t.jsx)(i.Z,{edge:"start",color:"inherit",onClick:w,"aria-label":"close",children:(0,t.jsx)(o.Z,{})})}),(0,t.jsxs)(u.Z,{children:[(0,t.jsx)("div",{children:(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(Z.Z,{id:"demo-controlled-radio-buttons-group",children:"Scan Option"}),(0,t.jsxs)(b.Z,{row:!0,"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:x,onChange:e=>{p(e.target.value)},children:[(0,t.jsx)(j.Z,{value:"camera",control:(0,t.jsx)(h.Z,{}),label:"Camera"}),(0,t.jsx)(j.Z,{value:"search",control:(0,t.jsx)(h.Z,{}),label:"Manual Input"})]})]})}),"camera"===x?(0,t.jsx)(g,{fps:10,qrbox:250,disableFlip:!1,qrCodeSuccessCallback:(e,a)=>{r(e),d(!1)}}):(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(m.Z,{onChange:e=>k(e.target.value),size:"small",label:"Package Number"}),(0,t.jsx)(s.Z,{sx:{mx:1},variant:"contained",onClick:()=>{_&&(r(_),d(!1))},children:"Add Package Id"})]})]})]})]})}let C={position:"absolute",bottom:16,right:16}},81302:function(e,r,a){"use strict";a.d(r,{At:function(){return s},mX:function(){return l}});let t=(0,a(35972).oM)({name:"snack_bar",initialState:{OPEN:!1,TYPE:"sucess",MSG:""},reducers:{openScackbar:(e,r)=>{let{open:a,type:t,msg:l}=r.payload;e.OPEN=a,e.TYPE=t,e.MSG=l},closeScackbar:e=>{e.OPEN=!1}}}),{openScackbar:l,closeScackbar:s}=t.actions;r.ZP=t.reducer}},function(e){e.O(0,[4358,1779,52,1472,5698,4583,7397,9271,2940,6859,472,2971,8069,1744],function(){return e(e.s=50279)}),_N_E=e.O()}]);