(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4911],{49271:function(e,r,a){Promise.resolve().then(a.bind(a,11381)),Promise.resolve().then(a.bind(a,25187))},11381:function(e,r,a){"use strict";a.r(r),a.d(r,{circularProgressClasses:function(){return n.Z},default:function(){return s.Z},getCircularProgressUtilityClass:function(){return n.C}});var s=a(25211),n=a(71739)},78106:function(e,r,a){"use strict";a(58121),a(2265)},25187:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return P}});var s=a(57437),n=a(2265),l=a(47240),t=a(29835),i=a(6285),o=a(77298),d=a(16492),c=a(67147),u=a(40512),m=a(41991),b=a(87957),h=a(82670),x=a(41848),p=a(82794),j=a(98322),f=a(19038),Z=a(16608),y=a(45009),v=a(30828),g=a(81302),w=a(58121),_=a(92730);function E(){let[e,r]=n.useState(!1),a=(0,v.I0)(),l=m.Ry({name:m.Z_().required("Enter Name"),mobile:m.Z_().required("Enter Mobile Number"),email:m.Z_().required("Enter Email"),password:m.Z_().required("Enter Password For User").min(8,"need at least 8 letters"),area:m.Z_().required("Enter Oparating area"),job_role:m.Z_().required("Select user Job Role")}),{register:E,handleSubmit:P,setValue:S,setError:k,reset:N,watch:C,unregister:M,control:I,formState:{errors:O}}=(0,h.cI)({resolver:(0,b.X)(l)}),q=async e=>{try{await (0,_.Xb)(y.I8,e.email,e.password).then(async r=>{let a=(await (0,_.e5)(y.I8,e.email,e.password)).user;await (0,_.ck)(a,{displayName:e.name});let s={name:e.name,mobile:e.mobile,email:e.email,area:e.area,job_role:e.job_role};await (0,w.pl)((0,w.JU)((0,w.ad)(),"user",a.uid),s)}),N(),a((0,g.mX)({open:!0,type:"success",msg:"User Added Opening.... new user"}))}catch(e){a((0,g.mX)({open:!0,type:"error",msg:e.message})),console.log(e)}};return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(i.Z,{variant:"outlined",onClick:()=>{r(!0)},children:"Open form dialog"}),(0,s.jsxs)(d.Z,{maxWidth:"md",open:e,onClose:()=>{r(!1)},children:[(0,s.jsx)(u.Z,{children:"Add Employee"}),(0,s.jsx)(c.Z,{children:(0,s.jsxs)("form",{onSubmit:P(q),children:[(0,s.jsx)(h.Qr,{name:"name",control:I,render:e=>{let{field:r}=e;return(0,s.jsx)(o.Z,{sx:{my:1},...r,value:r.value||"",type:"text",label:"Name",fullWidth:!0,error:!!O.name,helperText:O.name&&O.name.message})}}),(0,s.jsx)(h.Qr,{name:"mobile",control:I,render:e=>{let{field:r}=e;return(0,s.jsx)(o.Z,{sx:{my:1},...r,value:r.value||"",label:"Mobile",type:"text",fullWidth:!0,error:!!O.mobile,helperText:O.mobile&&O.mobile.message})}}),(0,s.jsx)(h.Qr,{name:"email",control:I,render:e=>{let{field:r}=e;return(0,s.jsx)(o.Z,{sx:{my:1},...r,value:r.value||"",type:"email",label:"Email",fullWidth:!0,error:!!O.email,helperText:O.email&&O.email.message})}}),(0,s.jsx)(h.Qr,{name:"password",control:I,render:e=>{let{field:r}=e;return(0,s.jsx)(o.Z,{sx:{my:1},...r,value:r.value||"",type:"password",label:"Password",fullWidth:!0,error:!!O.password,helperText:O.password&&O.password.message})}}),(0,s.jsx)(h.Qr,{name:"area",control:I,render:e=>{let{field:r}=e;return(0,s.jsx)(o.Z,{sx:{my:1},...r,value:r.value||"",type:"text",label:"Managing Area",fullWidth:!0,error:!!O.area,helperText:O.area&&O.area.message})}}),(0,s.jsx)(h.Qr,{name:"job_role",control:I,render:e=>{let{field:r}=e;return(0,s.jsxs)(x.Z,{fullWidth:!0,children:[(0,s.jsx)(p.Z,{children:"Job Role"}),(0,s.jsxs)(j.Z,{error:!!O.job_role,...r,value:r.value||"",label:"Select Rate",children:[(0,s.jsx)(f.Z,{value:"rider",children:(0,s.jsx)(t.Z,{children:"Rider"})}),(0,s.jsx)(f.Z,{value:"branch",children:(0,s.jsx)(t.Z,{children:"Branch"})}),(0,s.jsx)(f.Z,{value:"admin",children:(0,s.jsx)(t.Z,{children:"Admin"})})]}),(0,s.jsx)(Z.Z,{sx:{color:"red"},children:O.job_role&&O.job_role.message})]})}}),(0,s.jsx)(i.Z,{sx:{my:1,width:"100%"},type:"submit",variant:"contained",children:"Add User"})]})})]})]})}function P(){let[e,r]=(0,n.useState)([]),[a,i]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{i(!0);let e=await (0,w.PL)((0,w.hJ)((0,w.ad)(),"user")),a=[];e.forEach(e=>a.push({...e.data(),id:e.id})),r(a),i(!1)})()},[]);let o=(0,n.useMemo)(()=>[{accessorKey:"name",header:"Name",size:150},{accessorKey:"email",header:"Email",size:150},{accessorKey:"mobile",header:"Mobile",size:200},{accessorKey:"area",header:"Ariea",size:200},{accessorKey:"job_role",header:"Position",size:200,Cell:e=>{let{renderedCellValue:r,row:a}=e;return(0,s.jsx)(t.Z,{variant:"body1",children:"admin"===r?"Manager":"branch"===r?"Branch":"Rider"})}}],[]),d=(0,l.X0)({columns:o,data:e});return(0,s.jsxs)("div",{children:[(0,s.jsx)(E,{}),(0,s.jsx)(l.P2,{table:d})]})}a(78106)},45009:function(e,r,a){"use strict";a.d(r,{I8:function(){return o}});var s=a(26142),n=a(92730),l=a(58121),t=a(24905);let i=(0,s.C6)().length?(0,s.Mq)():(0,s.ZF)({apiKey:"AIzaSyDSE3wbk-bbR6X_sZbGk3nqOT8KKavp5wE",authDomain:"armair-7e8b8.firebaseapp.com",projectId:"armair-7e8b8",storageBucket:"armair-7e8b8.appspot.com",messagingSenderId:"255019274248",appId:"1:255019274248:web:00b7a292cfd581b1b801bd"}),o=(0,n.v0)(i);(0,l.ad)(i),(0,t.cF)(i)},81302:function(e,r,a){"use strict";a.d(r,{At:function(){return l},mX:function(){return n}});let s=(0,a(35972).oM)({name:"snack_bar",initialState:{OPEN:!1,TYPE:"sucess",MSG:""},reducers:{openScackbar:(e,r)=>{let{open:a,type:s,msg:n}=r.payload;e.OPEN=a,e.TYPE=s,e.MSG=n},closeScackbar:e=>{e.OPEN=!1}}}),{openScackbar:n,closeScackbar:l}=s.actions;r.ZP=s.reducer}},function(e){e.O(0,[4358,124,8712,1472,5698,4583,7397,9271,1024,2940,6859,412,5883,3584,9677,2971,8069,1744],function(){return e(e.s=49271)}),_N_E=e.O()}]);